## プログラム仕様書：INIファイルパーサー

### 1. プログラムの概要

本プログラムは、INI形式の設定ファイルを読み込み、ファイル内に記述された設定値を様々なデータ型で取得するためのライブラリです。

### 2. 機能一覧

このライブラリの利用者は、以下の機能を使うことができます。

* **INIファイルのロード:** 指定されたパスのINIファイルを読み込み、内容をメモリ上に展開します。
* **文字列の取得:** 指定したキーに対応する値を文字列として取得します。
* **各種数値の取得:** 指定したキーに対応する値を以下の数値型として取得します。
    * 整数 (`int`, `long int`)
    * 64ビット整数 (`int64_t`, `uint64_t`)
    * 浮動小数点数 (`double`)
* **ブール値の取得:** 指定したキーに対応する値をブール値（`1`(真)/`0`(偽)）として取得します。
* **リソースの解放:** ロード時に使用したメモリを解放します。

### 3. 入出力仕様

#### 3.1 入力：INIファイルのフォーマット

本プログラムが解釈できるINIファイルの書式は以下の通りです。

* **セクション:** 角括弧 `[ ]` で囲まれた名前で定義します。セクション名は大文字と小文字を区別しません。
  ```ini
  [Section1]
  ```
* **キーとバリュー:** `=` を挟んで `キー = バリュー` の形式で記述します。キー名は大文字と小文字を区別しません。
  ```ini
  Host = localhost
  Port = 8080
  ```
* **コメント:** `;` または`#` で始まる行はコメントとして扱われ、無視されます。また、行途中の`;`または`#`以降はコメントとして扱われます。
  ```ini
  # データベース設定
  [Database]
  User = db_user ; ユーザー名
  ```
* **バリューの記述方法:**
    * **通常のバリュー:** `key = value`
    * **引用符で囲まれたバリュー:** `"` または`'` で囲むことができます。この場合、値の前後の空白は維持されます。
      ```ini
      Message = " Hello, World! "
      ```
    * **エスケープ文字:** 引用符で囲まれたバリューの中では、`\` を使って特別な文字（`\"` や `\'` など）を表現できます。
      ```ini
      Path = "C:\\Users\\Test"
      ```
    * **複数行のバリュー:** 行末に`\` を置くことで、値を次の行に続けることができます。
      ```ini
      LongText = This is a very long text \
                 that spans multiple lines.
      ```
* **ブール値として解釈される値:**
    * **1(真):** `y`, `Y`, `1`, `t`, `T` のいずれかで始まる文字列。
    * **0(偽):** `n`, `N`, `0`, `f`, `F` のいずれかで始まる文字列。

#### 3.2 出力

* **各取得機能の返り値:**
    * 指定したキー（例: `"Section1:Host"`）が存在する場合、対応する値を要求されたデータ型に変換して返します。
    * キーが存在しない場合、利用者が事前に指定した**デフォルト値**を返します。
* **エラーメッセージ:**
    * 指定されたINIファイルが存在しない場合や、ファイル内に構文エラーがある場合、プログラムは標準エラー出力にエラーメッセージを表示します。

### 4. 操作手順（ライブラリの基本的な利用フロー）

このライブラリを利用するプログラムは、一般的に以下の手順で処理を行います。

1.  **ロード:** 最初に、対象となるINIファイルを指定してロード機能（`iniparser_load`）を呼び出します。
2.  **値の取得:** 次に、`セクション名:キー名` の形式で、必要な設定値を各種取得機能（`iniparser_getstring`, `iniparser_getint` など）を使って取得します。
3.  **解放:** 全ての設定値の取得が終わったら、最後にリソース解放機能（`iniparser_freedict`）を呼び出し、ロード時に確保したメモリを解放します。
